server:
  port: 8080
  shutdown: graceful
  servlet:
    encoding:
      force: true
  compression:
    enabled: true
    min-response-size: 1024
  undertow:
    threads:
      io: 8
      worker: 128
    buffer-size: 1024
    direct-buffers: true
    accesslog:
      enabled: true
      dir: logs
      pattern: combined
      prefix: novelogic_access.

spring:
  config:
    activate:
      on-profile: prod
  jackson:
    default-property-inclusion: non_null
    generator:
      write-bigdecimal-as-plain: true
  datasource:
    type: com.zaxxer.hikari.HikariDataSource
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://127.0.0.1:33306/novelogic_dev?useUnicode=true&characterEncoding=utf-8&zeroDateTimeBehavior=CONVERT_TO_NULL&rewriteBatchedStatements=true&useAffectedRows=true&useSSL=false&requireSSL=false&serverTimezone=GMT%2B8&allowPublicKeyRetrieval=true
    username: root
    password: 12345678
    hikari:
      minimum-idle: 5
      idle-timeout: 0
      maximum-pool-size: 30
      auto-commit: true
      pool-name: HikariCP
      max-lifetime: 1500000
      connection-timeout: 10000
      connection-test-query: SELECT 1

mybatis-plus:
  mapper-locations: classpath:mapper/*Mapper.xml
  global-config:
    banner: false
    db-config:
      logic-delete-field: is_deleted
      logic-delete-value: 1
      logic-not-delete-value: 0
  configuration:
    map-underscore-to-camel-case: true
    default-enum-type-handler: cn.scifi.novelogic.infrastructure.common.serialize.CodedEnumTypeHandler

app:
  api-prefix: /api
  rsa:
    expires-in: 7200
    private-key: classpath:certs/private-key.pem
    public-key: classpath:certs/public-key.pem
  allow-origins:
    - http://localhost:3000
    - http://127.0.0.1:3000
  allowlist:
    - /**
    - /api/v3/api-docs/**
    - /swagger-ui/**
    - /api/v1/auth/**

logging:
  config: classpath:logback-spring.xml



